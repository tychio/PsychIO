webpackJsonp([0],[,,,,function(t,e){},function(t,e,n){function s(t){n(14)}var i=n(0)(n(8),n(24),s,null,null);t.exports=i.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),i=n(5),a=n.n(i),r=n(6),o=n.n(r),c=n(4);n.n(c);s.default.config.productionTip=!1,s.default.use(o.a),new s.default({el:"#app",template:"<App/>",components:{App:a.a}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(21),i=n.n(s);e.default={name:"app",data:function(){return{designs:JSON.parse('{\n      "picture-naming": [\n        "001", "002", "003", "004", "005", "006", "007", "008", "009", "010",\n        "011", "012", "013", "014", "015", "016"\n      ],\n      "lexical-decision": {\n        "chinese": {\n          "words": [\n            "001", "002", "003", "004", "005"\n          ],\n          "nonwords": [\n            "001", "002", "003", "004", "005"\n          ]\n        },\n        "uyghur": {  \n          "words": [\n            "001", "002", "003", "004", "005"\n          ],\n          "nonwords": [\n            "001", "002", "003", "004", "005"\n          ]\n        }\n      }\n    }')}},components:{Dashboard:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LexicalDecision",props:["item","language"],data:function(){return{startDate:0,status:null,result:{name:this.item.name,isNon:this.item.isNon,response:0,right:!1,src:""}}},watch:{status:function(){"end"===this.status?(this.end(),this.$emit("end",this.result)):"playing"===this.status&&(this.startDate=new Date)}},methods:{end:function(t){t?"playing"===this.status&&(clearTimeout(this.endTimeout),this.status="end",this.record(),this.result.right=13===t.keyCode):this.record()},record:function(){this.startDate&&(this.result.response=new Date-this.startDate,this.result.src=this.imageSrc,this.startDate=0)}},computed:{imageSrc:function(){return"./static/lexical-decision/"+this.language+"-"+(this.item.isNon?"nonwords":"words")+"/"+this.item.name+".png"}},mounted:function(){var t=this,e=[1e3,500,4e3];this.status="start",setTimeout(function(){t.status="ready"},e[0]),setTimeout(function(){t.status="playing"},e[0]+e[1]),this.endTimeout=setTimeout(function(){t.status="end"},e[0]+e[1]+e[2])},directives:{focus:{inserted:function(t){setInterval(function(){return t.focus()},50)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=(n.n(s),n(16)),a=n.n(i),r=window.webkitSpeechRecognition;e.default={name:"PictureNaming",props:["item","language"],data:function(){return{startDate:0,status:null,result:{name:this.item.name,language:this.item.language,response:0,record:null,src:""},recognition:new r,media:null}},watch:{status:function(){"end"===this.status?(this.recognition.onspeechstart=function(){},this.media.stop(),this.record(),this.$emit("end",this.result)):"playing"===this.status?(this.startDate=new Date,this.media.start(4e3)):"ready"===this.status&&this.recognition.start()}},methods:{loadRecorder:function(){var t=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:!0},function(e){t.media=new a.a(e),t.media.mimeType="audio/wav",t.media.ondataavailable=function(e){t.result.record=e}},function(t){console.error("media error",t)})},record:function(t){this.startDate&&(this.result.response=s.min([4e3,new Date-this.startDate]),this.result.src=this.imageSrc,this.startDate=0,t&&t())}},computed:{languageSay:function(){return{chinese:"说",uyghur:"ئېيتماق",english:"Say"}[this.item.language]},imageSrc:function(){return"./static/picture-naming/"+this.item.name+".gif"}},mounted:function(){var t=this;this.loadRecorder();var e=[1e3,500,500,4e3];this.item.isEnd&&e.push(1e3),this.recognition.onspeechstart=function(){if(console.log(t.status),"playing"===t.status)t.record(function(){t.status="saying"});else{var e=t.recognition.onspeechstart;t.recognition=new r,t.recognition.onspeechstart=e,t.recognition.start()}},this.status="start",setTimeout(function(){t.status="ready"},e[0]),setTimeout(function(){t.status="prompt"},s.sum(s.slice(e,0,2))),setTimeout(function(){t.status="playing"},s.sum(s.slice(e,0,3))),this.item.isEnd&&setTimeout(function(){t.status="group"},s.sum(s.slice(e,0,4))),setTimeout(function(){t.status="end"},s.sum(e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=(n.n(s),n(17)),a=(n.n(i),n(20)),r=n.n(a),o=n(19),c=n.n(o);e.default={name:"Dashboard",props:["design"],data:function(){return{type:"picture-naming",language:"chinese",current:-1,list:[],results:[]}},methods:{blobUrl:function(t){return t&&URL.createObjectURL(t)},play:function(){var t=this;this.current=-1,this.results=[],i.enabled&&(i.request(this.$refs.container),i.onchange(function(e){i.isFullscreen||(t.current=-1)})),this.list=this.random(),this.$nextTick(function(){t.current=0})},next:function(t){var e=this;t&&(this.results.push(t),this.current===this.list.length-1?(this.current=-1,i.exit()):setTimeout(function(){e.current++},500))},random:function(){return this[{"picture-naming":"randomPictures","lexical-decision":"randomLexical"}[this.type]]()},randomLexical:function(){var t=this.items[this.language],e=s.map(t.nonwords,function(t){return{name:t,isNon:!0}}),n=s.map(t.words,function(t){return{name:t,isNon:!1}}),i=s.concat(e,n);return s.sampleSize(i,i.length)},randomPictures:function(){var t=["uyghur","chinese"],e={};e[t[0]]=t[1],e[t[1]]=t[0];var n=this.groupImages(this.items),i=s.size(s.flatten(n)),a=s.round(i/2),r=s.map(n,function(t){var n="chinese";return s.map(t,function(r,o){var c=!1;s.random(!0)<a/i&&(n=e[n],a--,c=!0),i--;var u={name:r,language:n,isEnd:t.length===o+1,isChange:c};return console.log(u,o),u})});return s.flatten(r)},groupImages:function(t){var e=t.length,n=e-4,i=e+4,a=0,r=s.chain(Array(8)).map(function(t,r){return function(){var t=n,o=i;if(a>0?t+=a:o+=a,r+1===8)return e+a;var c=s.random(t,o);return a+=e-c,c}()}).sortBy(function(t){return t}).value();console.log(r),console.log(s.sum(r));var o=s.flatten(s.fill(Array(8),t)),c=0,u=s.map(r,function(t){var e=s.slice(o,c,c+t);c+=t;var n=[],i=s.sampleSize(e,t);console.log(i);var a=s.sortBy(i,function(t){var e=s.includes(s.slice(n,0,3),t);return n.unshift(t),e});return console.log(a),a});return console.log(u),u}},computed:{items:function(){return this.design[this.type]}},watch:{type:function(){this.results=[]},language:function(){this.results=[]}},components:{"picture-naming":r.a,"lexical-decision":c.a}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){t.exports=n.p+"static/img/logo.be50dde.png"},function(t,e,n){function s(t){n(15)}var i=n(0)(n(9),n(25),s,"data-v-804d13e4",null);t.exports=i.exports},function(t,e,n){function s(t){n(12)}var i=n(0)(n(10),n(22),s,"data-v-09783e54",null);t.exports=i.exports},function(t,e,n){function s(t){n(13)}var i=n(0)(n(11),n(23),s,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],class:["stage","stage-"+t.status]},[n("div",{staticClass:"stage-pic",style:{"background-image":"url("+t.imageSrc+")"}}),t._v(" "),n("i",{staticClass:"icon icon-cross"}),t._v(" "),n("i",{staticClass:"icon icon-dot"}),t._v(" "),n("i",{staticClass:"icon icon-asterisk"}),t._v(" "),n("i",{staticClass:"icon icon-lang"},[t._v(t._s(t.languageSay))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"phone-viewport"},[n("section",{staticClass:"container"},[n("h1",{staticClass:"md-display-2"},[t._v("PsychIO")]),t._v(" "),n("form",{staticClass:"form"},[n("md-input-container",[n("label",[t._v("Test Type/测试类型")]),t._v(" "),n("md-select",{attrs:{name:"type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("md-option",{attrs:{value:"picture-naming"}},[t._v("Picture Naming/图片命名")]),t._v(" "),n("md-option",{attrs:{value:"lexical-decision"}},[t._v("Lexical Decision/词汇判断")])],1)],1),t._v(" "),"lexical-decision"===t.type?n("md-input-container",[n("label",[t._v("Languages/语言")]),t._v(" "),n("md-select",{attrs:{name:"type"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}},[n("md-option",{attrs:{value:"chinese"}},[t._v("Chiese/中文")]),t._v(" "),n("md-option",{attrs:{value:"uyghur"}},[t._v("Uyghur/维文")])],1)],1):t._e()],1),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",nativeOn:{click:function(e){t.play(e)}}},[t._v("Play")])],1),t._v(" "),n("section",{ref:"container",class:["container",{processing:t.current>=0}]},t._l(t.list,function(e,s){return t.current>=s?n("div",{directives:[{name:"show",rawName:"v-show",value:t.current<=s,expression:"current <= index"}]},[n(t.type,{tag:"component",attrs:{item:e,language:t.language},on:{end:t.next}})],1):t._e()})),t._v(" "),n("section",{staticClass:"container"},[n("md-list",t._l(t.results,function(e,s){return n("md-list-item",{key:"index",attrs:{href:t.blobUrl(e.record),target:"_blank"}},[n("md-avatar",[n("img",{attrs:{src:e.src}})]),t._v(" "),n("span",[t._v(t._s(e.name)+" - ("+t._s(e.response)+"ms)")]),t._v(" "),e.language?n("span",[t._v("["+t._s(e.language)+"]")]):t._e(),t._v(" "),"lexical-decision"===t.type?[n("small",[t._v("Choice/选择(Fact/实际)："+t._s(e.right?"True/真":"False/假")+"("+t._s(e.isNon?"False/假":"True/真")+")")]),t._v(" "),e.right!==e.isNon?n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"green"}},[t._v("done")]):n("md-icon",{staticClass:"md-warn",attrs:{"md-theme":"orange"}},[t._v("clear")])]:t._e()],2)}))],1)])},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{src:n(18)}}),t._v(" "),s("Dashboard",{attrs:{design:t.designs}}),t._v(" "),s("ul",{staticClass:"transparent"},[t._l(t.designs["picture-naming"],function(t){return s("li",[s("img",{attrs:{src:"./static/picture-naming/"+t}})])}),t._v(" "),t._l(t.designs["lexical-decision"],function(e,n){return s("li",[t._l(e,function(e,i){return t._l(e,function(t){return s("img",{attrs:{src:"./static/lexical-decision/"+n+"-"+i+"/"+t+".png"}})})})],2)})],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],class:["stage","stage-"+t.status]},[n("div",{staticClass:"stage-pic",style:{"background-image":"url("+t.imageSrc+")"}}),t._v(" "),n("i",{staticClass:"icon icon-cross"}),t._v(" "),n("i",{staticClass:"icon icon-dot"}),t._v(" "),"playing"===t.status?n("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},on:{keyup:t.end}}):t._e()])},staticRenderFns:[]}}],[7]);
//# sourceMappingURL=app.d98566379f85f4b11b24.js.map