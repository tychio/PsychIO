webpackJsonp([0],[,,,function(e,t){},function(e,t,n){function i(e){n(15)}var a=n(0)(n(7),n(26),i,null,null);e.exports=a.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n.n(a),o=n(5),s=n.n(o),c=n(3);n.n(c);i.default.config.productionTip=!1,i.default.use(s.a),new i.default({el:"#app",template:"<App/>",components:{App:r.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n.n(i);t.default={name:"app",components:{Dashboard:a.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),a=n.n(i);t.default={name:"Dashboard",data:function(){return{now:0,list:[{type:"img-audio",name:"Tiger",url:"http://lorempixel.com/400/200/animals/3/",audio:"",period:3e3},{type:"img-audio",name:"dog",url:"http://lorempixel.com/400/200/animals/8/",audio:"",period:2e3}]}},computed:{duration:function(){var e=0;return this.list.forEach(function(t){e+=parseInt(t.period)}),e},currentIndex:function(){for(var e=void 0,t=this.now,n=-1;n<this.list.length;n++){var i=this.list[n+1];if(t<=0){e=n;break}t-=i.period}return e}},methods:{play:function(){var e=(new Date).getTime(),t=this,n=setInterval(function(){t.now=(new Date).getTime()-e,t.now>t.duration&&(t.now=0,clearInterval(n))},20)},appendItem:function(e){this.list.push(e)},removeItem:function(e){this.list.splice(e,1)}},components:{Timeline:a.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),a=n.n(i);t.default={name:"Recorder",props:["item","active"],data:function(){return{media:null}},methods:{download:function(){this.media.save()}},computed:{isActive:function(){return this.active?this.media.start(this.item.period):this.media&&this.media.stop(),this.active}},mounted:function(){var e=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:!0},function(t){e.media=new a.a(t),e.media.mimeType="audio/wav",e.media.ondataavailable=function(t){e.item.audio=URL.createObjectURL(t)}},function(e){console.error("media error",e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=n.n(i);t.default={name:"timeline",props:["list","currentIndex"],methods:{create:function(){this.$emit("append",{type:"img-audio",name:"",url:"",audio:"",period:0})}},components:{Unit:a.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=n.n(i);t.default={name:"Unit",props:["item","active"],methods:{uploaded:function(e){var t=this,n=new FileReader;n.onload=function(e){t.item.url=e.target.result},n.readAsDataURL(e.target.files[0])},remove:function(){this.$emit("remove")}},components:{Recorder:a.a}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){e.exports=n.p+"static/img/logo.be50dde.png"},function(e,t,n){function i(e){n(14)}var a=n(0)(n(8),n(25),i,null,null);e.exports=a.exports},function(e,t,n){function i(e){n(12)}var a=n(0)(n(9),n(22),i,"data-v-100ab6e0",null);e.exports=a.exports},function(e,t,n){var i=n(0)(n(10),n(23),null,null,null);e.exports=i.exports},function(e,t,n){function i(e){n(13)}var a=n(0)(n(11),n(24),i,"data-v-5111e9a6",null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.media?[e.item.audio?n("md-button",{staticClass:"md-primary",nativeOn:{click:function(t){e.download()}}},[e._v("Download audio record")]):e._e(),e._v(" "),e.item.audio?n("md-button",{staticClass:"md-accent",attrs:{target:"_blank",href:e.item.audio}},[e._v("Play audio")]):e.isActive?n("span",[e._v("Recording")]):n("span",[e._v("No record")])]:e._e()],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeline"},[e._l(e.list,function(t,i){return n("Unit",{key:"index",attrs:{item:t,active:i===e.currentIndex},on:{remove:function(t){e.$emit("remove",i)}}})}),e._v(" "),n("md-button",{staticClass:"md-raised md-primary",nativeOn:{click:function(t){e.create()}}},[e._v("Add")])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return"img-audio"===e.item.type?n("div",[e.active?n("div",{staticClass:"showcase"},[n("img",{attrs:{src:e.item.url,alt:"Please upload image"}})]):e._e(),e._v(" "),n("md-card",[n("md-card-header",[n("md-card-header-text",[n("div",{staticClass:"md-title",domProps:{textContent:e._s(e.item.name)}}),e._v(" "),n("div",{staticClass:"md-subtitle"},[e._v("("+e._s(e.item.period/1e3)+" s)")]),e._v(" "),n("Recorder",{attrs:{active:e.active,item:e.item}})],1),e._v(" "),n("md-card-media",{attrs:{"md-big":""}},[n("img",{attrs:{src:e.item.url,alt:e.item.name}})])],1),e._v(" "),n("md-card-expand",[n("md-card-actions",[n("md-button",{staticClass:"md-warn",nativeOn:{click:function(t){e.remove(t)}}},[e._v("Remove")]),e._v(" "),n("md-button",{staticClass:"md-icon-button",attrs:{"md-expand-trigger":""}},[n("md-icon",[e._v("keyboard_arrow_down")])],1)],1),e._v(" "),n("md-card-content",[n("md-input-container",[n("label",[e._v("Name")]),e._v(" "),n("md-input",{attrs:{type:"text"},model:{value:e.item.name,callback:function(t){e.item.name=t},expression:"item.name"}})],1),e._v(" "),n("md-input-container",[n("label",[e._v("Upload Photo")]),e._v(" "),n("md-file",{attrs:{accept:"image/*"},nativeOn:{change:function(t){e.uploaded(t)}}})],1),e._v(" "),n("md-input-container",[n("label",[e._v("Duration (millisecond)")]),e._v(" "),n("md-input",{attrs:{type:"number"},model:{value:e.item.period,callback:function(t){e.item.period=t},expression:"item.period"}})],1)],1)],1)],1)],1):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"phone-viewport"},[n("section",{staticClass:"container"},[n("h1",{staticClass:"md-display-2"},[e._v("PsychIO")]),e._v(" "),n("md-button",{staticClass:"md-raised md-accent",nativeOn:{click:function(t){e.play(t)}}},[e._v("Play")])],1),e._v(" "),n("section",{staticClass:"container"},[n("Timeline",{attrs:{list:e.list,currentIndex:e.currentIndex},on:{append:e.appendItem,remove:e.removeItem}})],1)])},staticRenderFns:[]}},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("img",{attrs:{src:n(17)}}),e._v(" "),i("Dashboard")],1)},staticRenderFns:[]}}],[6]);
//# sourceMappingURL=app.93fa7372ba9a6eb227cc.js.map