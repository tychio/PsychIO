webpackJsonp([1],{123:function(t,e,n){t.exports=n.p+"static/img/logo.be50dde.png"},125:function(t,e,n){function s(t){n(82)}var i=n(11)(n(59),n(131),s,"data-v-994b9cee",null);t.exports=i.exports},126:function(t,e,n){function s(t){n(81)}var i=n(11)(n(60),n(130),s,"data-v-535d53a4",null);t.exports=i.exports},127:function(t,e,n){function s(t){n(83)}var i=n(11)(n(61),n(132),s,"data-v-b2acb318",null);t.exports=i.exports},128:function(t,e,n){function s(t){n(84)}var i=n(11)(n(62),n(133),s,null,null);t.exports=i.exports},129:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),n("Dashboard",{attrs:{design:t.designs}}),t._v(" "),n("ul",{staticClass:"transparent"},[t._l(t.designs["picture-naming"],function(t){return n("li",[n("img",{attrs:{src:"./static/picture-naming/"+t+".gif"}})])}),t._v(" "),t._l(t.designs["lexical-decision"],function(e,s){return n("li",[t._l(e,function(e,i){return t._l(e,function(t){return n("img",{attrs:{src:"./static/lexical-decision/"+s+"-"+i+"/"+t+".png"}})})})],2)})],2)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"logo"},[s("img",{attrs:{src:n(123)}}),t._v(" "),s("span",[t._v("sychio")])])}]}},130:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],class:["stage","stage-"+t.status]},[n("div",{staticClass:"stage-pic",style:{"background-image":"url("+t.imageSrc+")"}}),t._v(" "),n("i",{staticClass:"icon icon-cross"}),t._v(" "),n("i",{staticClass:"icon icon-dot"}),t._v(" "),"playing"===t.status?n("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},on:{keyup:t.end}}):t._e()])},staticRenderFns:[]}},131:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],class:["stage","stage-"+t.status]},[n("div",{staticClass:"stage-pic",style:{"background-image":"url("+t.imageSrc+")"}}),t._v(" "),"playing"===t.status?n("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},on:{keyup:t.end}}):t._e()])},staticRenderFns:[]}},132:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],class:["stage","stage-"+t.status]},[n("div",{staticClass:"stage-pic",style:{"background-image":"url("+t.imageSrc+")"}}),t._v(" "),n("i",{staticClass:"icon icon-cross"}),t._v(" "),n("i",{staticClass:"icon icon-dot"}),t._v(" "),n("i",{staticClass:"icon icon-asterisk"}),t._v(" "),n("i",{staticClass:"icon icon-lang"},[t._v(t._s(t.languageSay))])])},staticRenderFns:[]}},133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"phone-viewport"},[n("section",{staticClass:"container"},[n("form",{staticClass:"form"},[n("div",{staticClass:"col-half"},[n("md-input-container",[n("label",[t._v("Your Name/你的名字")]),t._v(" "),n("md-input",{model:{value:t.yourname,callback:function(e){t.yourname=e},expression:"yourname"}})],1),t._v(" "),n("md-input-container",[n("label",[t._v("Contact/联系方式")]),t._v(" "),n("md-input",{attrs:{required:""},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)],1),t._v(" "),n("md-input-container",[n("label",[t._v("Test Type/测试类型")]),t._v(" "),n("md-select",{attrs:{name:"type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("md-option",{attrs:{value:t.TYPE_PIC}},[t._v("Picture Naming/图片命名")]),t._v(" "),n("md-option",{attrs:{value:t.TYPE_LEX}},[t._v("Lexical Decision/词汇判断")]),t._v(" "),n("md-option",{attrs:{value:t.TYPE_IQ}},[t._v("IQ Test/IQ测试")])],1)],1),t._v(" "),"lexical-decision"===t.type?n("md-input-container",[n("label",[t._v("Languages/语言")]),t._v(" "),n("md-select",{attrs:{name:"type"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}},[n("md-option",{attrs:{value:"chinese"}},[t._v("Chiese/中文")]),t._v(" "),n("md-option",{attrs:{value:"uyghur"}},[t._v("Uyghur/维文")])],1)],1):t._e()],1),t._v(" "),t.showError&&!t.contact?n("div",{staticClass:"error"},[t._v("Please enter contact/请填写联系方式")]):t._e(),t._v(" "),n("md-button",{staticClass:"md-raised md-accent",nativeOn:{click:function(e){t.play(e)}}},[t._v("Play")]),t._v(" "),t.hasData?n("md-button",{staticClass:"md-raised md-warn",nativeOn:{click:function(e){t.download(e)}}},[t._v("Download")]):t._e()],1),t._v(" "),n("section",{ref:"container",class:["container",{processing:t.current>=0}]},t._l(t.list,function(e,s){return t.current>=s?n("div",{directives:[{name:"show",rawName:"v-show",value:t.current<=s,expression:"current <= index"}]},[n(t.type,{tag:"component",attrs:{item:e,language:t.language},on:{end:t.next}})],1):t._e()})),t._v(" "),n("section",{staticClass:"container"},[t.type===t.TYPE_PIC?n("md-list",t._l(t.results[t.TYPE_PIC],function(e,s){return n("md-list-item",{key:"index",attrs:{href:t.blobUrl(e.record),target:"_blank"}},[n("md-avatar",[n("img",{attrs:{src:e.src}})]),t._v(" "),n("span",[t._v(t._s(e.name)+" - ("+t._s(e.response)+"ms)")]),t._v(" "),n("span",[t._v("["+t._s(e.language)+"]")])],1)})):t._e(),t._v(" "),t._l([t.TYPE_LEX_CN,t.TYPE_LEX_UG],function(e,s){return t.type===t.TYPE_LEX?n("md-list",{key:"typeIdx"},t._l(t.results[e],function(s,i){return t.sumType===e?n("md-list-item",{key:"index"},[n("md-avatar",[n("img",{attrs:{src:s.src}})]),t._v(" "),n("span",[t._v(t._s(s.name)+" - ("+t._s(s.response)+"ms)")]),t._v(" "),n("span",[t._v("["+t._s(s.language)+"]")]),t._v(" "),n("small",[t._v("Choice/选择(Fact/实际)："+t._s(s.right?"True/真":"False/假")+"("+t._s(s.isNon?"False/假":"True/真")+")")]),t._v(" "),s.right!==s.isNon?n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"green"}},[t._v("done")]):n("md-icon",{staticClass:"md-warn",attrs:{"md-theme":"orange"}},[t._v("clear")])],1):t._e()})):t._e()}),t._v(" "),t.type===t.TYPE_IQ?n("md-list",t._l(t.results[t.sumType],function(e,s){return n("md-list-item",{key:"index"},[n("md-avatar",[n("img",{attrs:{src:e.src}})]),t._v(" "),n("span",[t._v(t._s(e.name)+" - ("+t._s(e.response)+"ms)")]),t._v(" "),n("span",[t._v("Answer/答案 - Choice/作答："),n("small",[t._v(t._s(e.answer))]),t._v(" - "+t._s(e.choice))]),t._v(" "),e.answer===e.choice?n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"green"}},[t._v("done")]):n("md-icon",{staticClass:"md-warn",attrs:{"md-theme":"orange"}},[t._v("clear")])],1)})):t._e()],2)])},staticRenderFns:[]}},138:function(t,e){},54:function(t,e){},55:function(t,e,n){function s(t){n(80)}var i=n(11)(n(58),n(129),s,null,null);t.exports=i.exports},57:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(26),i=n(55),a=n.n(i),r=n(56),o=n.n(r),c=n(54);n.n(c);s.default.config.productionTip=!1,s.default.use(o.a),new s.default({el:"#app",template:"<App/>",components:{App:a.a}})},58:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(128),i=n.n(s);e.default={name:"app",data:function(){return{designs:JSON.parse('{\n      "picture-naming": [\n        "001", "002", "003", "004", "005", "006", "007", "008", "009", "010",\n        "011", "012", "013", "014", "015", "016"\n      ],\n      "lexical-decision": {\n        "chinese": {\n          "words": [\n            "001", "002", "003", "004", "005"\n          ],\n          "nonwords": [\n            "001", "002", "003", "004", "005"\n          ]\n        },\n        "uyghur": {  \n          "words": [\n            "001", "002", "003", "004", "005"\n          ],\n          "nonwords": [\n            "001", "002", "003", "004", "005"\n          ]\n        }\n      },\n      "iq-tester": [\n        { "Q": "A2", "A": 5 },\n        { "Q": "A3", "A": 1 },\n        { "Q": "A4", "A": 2 },\n        { "Q": "A5", "A": 6 }\n      ]\n    }')}},components:{Dashboard:i.a}}},59:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"IQTester",props:["item","language"],data:function(){return{startDate:0,status:null,result:{name:this.item.Q,answer:this.item.A,response:0,choice:0,src:""}}},watch:{status:function(){"end"===this.status?(this.end(),this.$emit("end",this.result)):"playing"===this.status&&(this.startDate=new Date)}},methods:{end:function(t){t?"playing"===this.status&&(this.record(),t.keyCode>48&&t.keyCode<57&&(this.status="end",clearTimeout(this.endTimeout),this.result.choice=t.keyCode-48)):this.record()},record:function(){this.startDate&&(this.result.response=new Date-this.startDate,this.result.src=this.imageSrc,this.startDate=0)}},computed:{imageSrc:function(){return"./static/iq-tester/"+this.item.Q+".jpg"}},mounted:function(){var t=this;this.status="playing",this.endTimeout=setTimeout(function(){t.status="end"},6e4)},directives:{focus:{inserted:function(t){setInterval(function(){return t.focus()},50)}}}}},60:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"LexicalDecision",props:["item","language"],data:function(){return{startDate:0,status:null,result:{name:this.item.name,isNon:this.item.isNon,response:0,right:!1,language:this.language,src:""}}},watch:{status:function(){"end"===this.status?(this.end(),this.$emit("end",this.result)):"playing"===this.status&&(this.startDate=new Date)}},methods:{end:function(t){t?"playing"===this.status&&(clearTimeout(this.endTimeout),this.status="end",this.record(),this.result.right=13===t.keyCode):this.record()},record:function(){this.startDate&&(this.result.response=new Date-this.startDate,this.result.src=this.imageSrc,this.startDate=0)}},computed:{imageSrc:function(){return"./static/lexical-decision/"+this.language+"-"+(this.item.isNon?"nonwords":"words")+"/"+this.item.name+".png"}},mounted:function(){var t=this,e=[1e3,500,4e3];this.status="start",setTimeout(function(){t.status="ready"},e[0]),setTimeout(function(){t.status="playing"},e[0]+e[1]),this.endTimeout=setTimeout(function(){t.status="end"},e[0]+e[1]+e[2])},directives:{focus:{inserted:function(t){setInterval(function(){return t.focus()},50)}}}}},61:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(44),i=(n.n(s),n(103)),a=n.n(i),r=window.webkitSpeechRecognition;e.default={name:"PictureNaming",props:["item","language"],data:function(){return{startDate:0,status:null,result:{name:this.item.name,language:this.item.language,response:0,record:null,src:""},recognition:new r,media:null}},watch:{status:function(){"end"===this.status?(this.recognition.onspeechstart=function(){},this.media.stop(),this.record(),this.$emit("end",this.result)):"playing"===this.status?(this.startDate=new Date,this.media.start(5e3)):"ready"===this.status&&this.recognition.start()}},methods:{loadRecorder:function(){var t=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia({audio:!0},function(e){t.media=new a.a(e),t.media.mimeType="audio/wav",t.media.ondataavailable=function(e){t.result.record=e}},function(t){console.error("media error",t)})},record:function(t){this.startDate&&(this.result.response=s.min([4e3,new Date-this.startDate]),this.result.src=this.imageSrc,this.startDate=0,t&&t())},setStatus:function(t,e){var n=this;e?setTimeout(function(){n.status=t},e):this.status=t}},computed:{languageSay:function(){return{chinese:"说",uyghur:"ئېيتماق",english:"Say"}[this.item.language]},imageSrc:function(){return"./static/picture-naming/"+this.item.name+".gif"}},mounted:function(){var t=this;this.loadRecorder();var e=[1e3,500,500,4e3];this.item.isEnd&&e.push(1e3),this.recognition.onspeechstart=function(){if(console.log(t.status),"playing"===t.status)t.record(function(){t.status="saying"});else{var e=t.recognition.onspeechstart;t.recognition=new r,t.recognition.onspeechstart=e,t.recognition.start()}},this.setStatus("start"),this.setStatus("ready",e[0]),this.setStatus("prompt",s.sum(s.slice(e,0,2))),this.setStatus("playing",s.sum(s.slice(e,0,3))),this.item.isEnd&&this.setStatus("group",s.sum(s.slice(e,0,4))),this.setStatus("end",s.sum(e))}}},62:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(63),i=n.n(s),a=n(44),r=(n.n(a),n(91)),o=n.n(r),c=n(119),u=(n.n(c),n(85)),l=(n.n(u),n(127)),d=n.n(l),m=n(126),h=n.n(m),g=n(125),p=n.n(g);e.default={name:"Dashboard",props:["design"],data:function(){var t={type:"",TYPE_PIC:"picture-naming",TYPE_IQ:"iq-tester",TYPE_LEX:"lexical-decision",TYPE_LEX_CN:"lexical-decision-chinese",TYPE_LEX_UG:"lexical-decision-uyghur",language:"chinese",current:-1,list:[],results:{},SECTION_COUNT:6,showError:!1,yourname:"",contact:""};return t.type=t.TYPE_PIC,t.results[t.TYPE_PIC]=[],t.results[t.TYPE_LEX_CN]=[],t.results[t.TYPE_LEX_UG]=[],t.results[t.TYPE_IQ]=[],t},methods:{blobUrl:function(t){return t&&URL.createObjectURL(t)},play:function(){var t=this;if(!this.contact)return void(this.showError=!0);this.current=-1,c.enabled&&(c.request(this.$refs.container),c.onchange(function(e){c.isFullscreen||(t.current=-1)})),this.list=this.random(),this.$nextTick(function(){t.current=0})},next:function(t){var e=this;t&&(this.results[this.sumType].push(t),this.current===this.list.length-1?(this.current=-1,c.exit()):setTimeout(function(){e.current++},500))},random:function(){var t={};return t[this.TYPE_PIC]="randomPictures",t[this.TYPE_LEX]="randomLexical",t[this.TYPE_IQ]="randomIQ",this[t[this.type]]()},randomIQ:function(){return this.items},randomLexical:function(){var t=this.items[this.language],e=a.map(t.nonwords,function(t){return{name:t,isNon:!0}}),n=a.map(t.words,function(t){return{name:t,isNon:!1}}),s=a.concat(e,n);return a.sampleSize(s,s.length)},logPictures:function(t){a.each(t,function(t){console.group("========================================="),a.each(t,function(t){console.group("---------------------"),console.log("picture name:",t.name),console.log("language:",t.language),t.isChange?console.log("Changed"):console.log("Not changed"),console.groupEnd("---------------------")}),console.groupEnd("<=========================================>")})},randomPictures:function(){var t=this.randomPictureGroup("uyghur",this.groupImages(this.items)),e=this.randomPictureGroup("chinese",this.groupImages(this.items));return this.logPictures(t),this.logPictures(e),a.flattenDeep([t,e])},randomPictureGroup:function(t,e){var n=["uyghur","chinese"],s={};s[n[0]]=n[1],s[n[1]]=n[0];var i=a.size(a.flatten(e)),r=i-e.length,o=a.round(r*(1/3)),c=a.round(.5*(r-o)),u={};a.each(n,function(t){u[t]=c});var l=a.map(e,function(n,r){return a.map(n,function(c,l){var d=null;if(l>0&&(d=!1),null!==d){var m=a.random(!0),h=i-e.length+r+1,g=m<o/h,p=0===u[t];1===o&&u[t]>0||!g&&!p?u[t]--:(t=s[t],o--,d=!0)}i--;var f={name:c,language:t,isEnd:n.length===l+1,isChange:d};return d?console.count("Changed from "+s[t]+" to "+t):!1===d?console.count("Keep "+t):console.count("First "+t),f})});return a.sampleSize(l,this.SECTION_COUNT)},groupImages:function(t){var e=this,n=t.length,s=n-this.SECTION_COUNT,i=n+this.SECTION_COUNT,r=0,o=a.chain(Array(this.SECTION_COUNT)).map(function(t,o){return function(t){var e=s,c=i;if(r>0?e+=r:c+=r,o+1===t.SECTION_COUNT)return n+r;var u=a.random(e,c);return r+=n-u,u}(e)}).sortBy(function(t){return t}).value(),c=a.flatten(a.fill(Array(this.SECTION_COUNT),t)),u=0;return console.log("Sum:",a.sum(o)),console.log("Group count:",o.join(",")),a.map(o,function(t){var n=a.slice(c,u,u+t);u+=t;var s=a.sampleSize(n,t);return e.sortedWithSpace(s,3)})},sortedWithSpace:function(t,e){var n=[],s=[],i=function(t){var i=!1;return a.includes(a.slice(n,0-e),t)?a.includes(a.slice(n,0,e),t)?(s.push(t),i=!0):n.unshift(t):n.push(t),i};return a.each(t,function(t){i(t),s=a.filter(s,i)}),console.log("sorted images:",n),n},download:function(){var t=this,e=new o.a;a.each(this.results,function(t,n){a.each(t,function(t,s){var r=[n,(a.fill(Array(3),"0").join("")+(s+1)).slice(-3)].join("_"),o=e.folder(r);t.record&&o.file(r+".wav",t.record),o.file(r+".json",i()(t))})}),e.file("info.json",i()({name:this.yourname,contact:this.contact})),e.generateAsync({type:"blob"}).then(function(e){n.i(u.saveAs)(e,"psychio_results_"+t.contact+".zip")})}},computed:{items:function(){return this.design[this.type]},sumType:function(){var t=this.type;return t===this.TYPE_LEX&&(t+="-"+this.language),t},hasData:function(){var t=this.results[this.TYPE_PIC].length,e=this.results[this.TYPE_LEX_CN].length,n=this.results[this.TYPE_LEX_UG].length;return t||e||n}},components:{"picture-naming":d.a,"lexical-decision":h.a,"iq-tester":p.a}}},80:function(t,e){},81:function(t,e){},82:function(t,e){},83:function(t,e){},84:function(t,e){}},[57]);
//# sourceMappingURL=app.91774e77bdd2b40da994.js.map